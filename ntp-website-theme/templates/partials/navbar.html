<!-- 
  templateType: global_partial
  label: Navbar
-->

<!-- <nav class="shadow-lg fixed h-20 top-0 left-0 w-full z-50 bg-white">
  <div
    class="lg:container flex flex-wrap items-center justify-between mx-auto h-full"
  >
    <div class="flex-1 flex p-10 lg:p-0 h-full items-center">
      <a href="/"
        ><img
          src="{{ get_asset_url('../../assets/logo.png') }}"
          alt="Logo"
          class="h-10"
      /></a>
    </div>
    <div class="relative hidden lg:block h-full">
      <ul class="flex flex-row gap-5 h-full items-center">
        <li class="nav-style bg-coralblue">
          <a class="flex" href="/home-dev"
            ><img
              src="{{get_asset_url('../../assets/house.svg')}}"
              alt=""
              class="w-4 mr-2"
            />Home1</a
          >
        </li>
        <li class="nav-style bg-bluechalk">
          <a href="/service" class="flex"
            ><img
              src="{{get_asset_url('../../assets/gear.svg')}}"
              alt=""
              class="w-4 mr-2"
            />Service</a
          >
        </li>
        <li class="nav-style">
          <a href="/about-us" class="flex"
            ><img
              src="{{get_asset_url('../../assets/people.svg')}}"
              alt=""
              class="w-4 mr-2"
            />About Us</a
          >
        </li>
        <li class="nav-style">
          <a href="/career" class="flex">
            <img
              src="{{get_asset_url('../../assets/briefcase.svg')}}"
              alt=""
              class="w-4 mr-2"
            />Career</a
          >
        </li>
        <li
          class="h-9 leading-9 rounded-2xl px-3 border border-coralblue hover:bg-coralblue text-sm font-Montserrat font-bold"
        >
          <a href="/contact-us"> Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="flex lg:order-2">
      <div class="relative hidden lg:block">
        <ul class="flex flex-row gap-8"></ul>
      </div>
      <button
        data-collapse-toggle="navbar-search"
        type="button"
        class="inline-flex items-center ml-10 p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
        aria-controls="navbar-search"
        aria-expanded="false"
      >
        <span class="sr-only">Open main menu</span>
        <svg
          class="w-5 h-5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 17 14"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M1 1h15M1 7h15M1 13h15"
          />
        </svg>
      </button>
    </div>

    <div
      class="w-full items-center justify-between hidden lg:flex lg:w-auto lg:order-1"
      id="navbar-search"
    >
      <div class="relative lg:hidden h-screen">
        <ul
          class="w-full flex-col text-center bg-sky-300 *:mt-10 p-4 text-xl font-bold h-screen"
        >
          <li>
            <a href="/">Home</a>
          </li>
          <li>
            <a href="/service">Service</a>
          </li>
          <li>
            <a href="/about-us">About Us</a>
          </li>
          <li>
            <a href="/career">Career</a>
          </li>
          <li>
            <a href="/contact-us">Contact Us</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav> -->

<!-- Navbar Code -->
<nav class="shadow-lg fixed h-20 top-0 left-0 w-full z-50 bg-white">
  <div
    class="container xl:px-32 px-3 flex flex-wrap items-center justify-between mx-auto h-full"
  >
    <div class="flex-1 flex p-10 lg:p-0 h-full items-center">
      <a href="/" id="logo-link">
        <img
          src="{{ get_asset_url('../../assets/logo.png') }}"
          alt="Logo"
          class="h-14"
        />
      </a>
    </div>
    <div class="relative hidden lg:block h-full">
      <ul class="flex flex-row gap-5 h-full items-center">
        <li class="nav-style cursor-pointer duration-500" id="home-link">
          <a class="flex" href="/">
            <img
              src="{{get_asset_url('../../assets/house.svg')}}"
              alt=""
              class="w-4 mr-2"
            />Home
          </a>
        </li>
        <li class="nav-style cursor-pointer duration-500" id="service-link">
          <a href="/services-dev" class="flex">
            <!-- <a href="/services" class="flex"> -->
            <img
              src="{{get_asset_url('../../assets/gear.svg')}}"
              alt=""
              class="w-4 mr-2"
            />Services</a
          >
        </li>
        <li class="nav-style cursor-pointer duration-500" id="about-link">
          <a href="/about-dev" class="flex">
            <!-- <a href="/about-us" class="flex"> -->
            <img
              src="{{get_asset_url('../../assets/people.svg')}}"
              alt=""
              class="w-4 mr-2"
            />About Us
          </a>
        </li>
        <li class="nav-style cursor-pointer duration-500" id="career-link">
          <!-- <a href="/careers" class="flex"> -->
          <a href="/careers-dev" class="flex">
            <img
              src="{{get_asset_url('../../assets/briefcase.svg')}}"
              alt=""
              class="w-4 mr-2"
            />Careers
          </a>
        </li>
        <li class="nav-style cursor-pointer duration-500" id="blog-link">
          <!-- <a href="/blog" class="flex"> -->
          <a href="/blog-dev" class="flex">
            <img
              src="{{get_asset_url('../../assets/newspaper.svg')}}"
              alt=""
              class="w-4 mr-2"
            />Blog
          </a>
        </li>
        <li
          class="h-9 leading-9 rounded-2xl px-3 border border-royalblue hover:bg-coralblue text-sm font-Montserrat font-bold cursor-pointer hover:text-blue-400 duration-500"
          id="contact-link"
        >
          <!-- <a href="/contact-us">Contact Us</a> -->
          <a href="/contact-dev">Contact Us</a>
        </li>
      </ul>
    </div>
    <div class="flex lg:order-2">
      <div class="relative hidden lg:block">
        <ul class="flex flex-row gap-8"></ul>
      </div>
      <button
        data-collapse-toggle="navbar-search"
        type="button"
        class="inline-flex items-center ml-10 p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
        aria-controls="navbar-search"
        aria-expanded="false"
      >
        <span class="sr-only">Open main menu</span>
        <svg
          class="w-5 h-5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 17 14"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M1 1h15M1 7h15M1 13h15"
          />
        </svg>
      </button>
    </div>

    <div
      class="w-full items-center justify-between hidden lg:flex lg:w-auto lg:order-1"
      id="navbar-search"
    >
      <div class="relative lg:hidden h-screen">
        <ul
          class="w-full flex-col text-center bg-coralblue *:mt-10 p-4 text-xl font-bold h-screen"
        >
          <li>
            <a href="/" id="home-link-mobile">Home</a>
          </li>
          <li>
            <a href="/services-dev" id="service-link-mobile">Services</a>
            <!-- <a href="/services" id="service-link-mobile">Services</a> -->
          </li>
          <li>
            <a href="/about-dev" id="about-link-mobile">About Us</a>
            <!-- <a href="/about-us" id="about-link-mobile">About Us</a> -->
          </li>
          <li>
            <a href="/careers-dev" id="career-link-mobile">Careers</a>
            <!-- <a href="/careers" id="career-link-mobile">Careers</a> -->
          </li>
          <li>
            <a href="/blog-dev" id="blog-link-mobile">Blogs</a>
            <!-- <a href="/blog" id="blog-link-mobile">Blogs</a> -->
          </li>
          <li>
            <a href="/contact-dev" id="contact-link-mobile">Contact Us</a>
            <!-- <a href="/contact-us" id="contact-link-mobile">Contact Us</a>             -->
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    console.log("DOM fully loaded and parsed");

    const navLinks = document.querySelectorAll("nav a");
    const currentPath = window.location.pathname;
    const toggleButton = document.querySelector(
      "[data-collapse-toggle='navbar-search']"
    );
    const navbarMenu = document.getElementById("navbar-search");
    console.log("Current path:", currentPath);

    // Function to extract path from URL
    function getPath(url) {
      const path = new URL(url, window.location.origin).pathname;
      return path;
    }

    // Function to set active link
    function setActiveLink() {
      console.log("Setting active link...");
      navLinks.forEach((link) => {
        link.parentElement.classList.remove("active");

        if (
          currentPath === getPath(link.href) ||
          (currentPath.includes("blog") && getPath(link.href).includes("blog"))
        ) {
          link.parentElement.classList.add("active");
          console.log(`Active class added to: ${link.href}`);
        }
      });
    }

    // Set the initial active link
    setActiveLink();

    // Add click event listener to update active class
    navLinks.forEach((link) => {
      link.addEventListener("click", function () {
        console.log(`Clicked link: ${this.href}`);

        if (this.id !== "logo-link") {
          navLinks.forEach((navLink) =>
            navLink.parentElement.classList.remove("active")
          );
          this.parentElement.classList.add("active");
          console.log(`Active class applied to: ${this.href}`);
        }
      });
    });

    // Toggle mobile menu & restrict scrolling when open
    toggleButton.addEventListener("click", function () {
      console.log("Menu toggle button clicked");

      const isExpanded = navbarMenu.classList.toggle("hidden");
      document.body.classList.toggle("overflow-y-hidden", !isExpanded);

      console.log("Navbar menu visibility:", isExpanded ? "Hidden" : "Visible");
      console.log(
        "Body overflow status:",
        document.body.classList.contains("overflow-y-hidden")
      );
    });

    // Handle back/forward navigation
    window.addEventListener("popstate", function () {
      console.log("Back/forward navigation detected");
      setActiveLink();
    });

    // Re-apply active link class on resize to adjust for different screen sizes
    window.addEventListener("resize", function () {
      console.log("Window resized");
      setActiveLink();
    });

    // Update active link on page load
    window.addEventListener("load", function () {
      console.log("Page fully loaded");
      setActiveLink();
    });
  });
</script>
<!-- Styles for active classes -->
<style>
  /* Desktop active class */
  .active {
    background-color: #a7dfff;
  }
</style>
