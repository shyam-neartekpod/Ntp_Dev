<!--
  templateType: page
  isAvailableForNewContent: true
  label: NTP-applynow
  screenshotPath: ../images/template-previews/home.png
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css"
      rel="stylesheet"
    />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
    {{ require_css(get_asset_url("../css/components/output.css")) }} {{
    standard_header_includes }}
    <link rel="icon" type="image/jpg" href="{{get_asset_url('../assets/Brandmark-logo.svg') }}"><link rel="icon" type="image/jpg" href="{{get_asset_url('../assets/neartekpod_logo.jpg') }}">
  </head>
  <body class="">
    {% block Navbar %} {% global_partial path="./partials/navbar.html" %} {%
    endblock Navbar %}
    <div class="absolute top-12 left-4 md:top-[50px] md:left-30">
      {% block Backgroundcolor %} {% global_partial
      path="./Components/backroundcolor.html " %} {% endblock Backgroundcolor %}
    </div>
    <div class="mt-32 mb-20">
        <div class="container xl:px-32 px-3">
            <div class="bg-service">
                <div class="relative">
                  <img
                    src="{{get_asset_url('../assets/Card-form-image.svg')}}"
                    alt="Card Image"
                    class="h-auto rounded-lg w-full"
                  />
                  <div class="absolute inset-0 flex flex-col justify-end  p-6 rounded-lg w-full">
                    <h2 class="text-white md:text-4xl font-medium mb-1">Ready to Join our team?</h2>
                    <h1 class="text-white md:text-2xl font-medium mb-1">Take the First Step Towards an Exciting Career with Us!</h1>
                  </div>
                </div>
              </div>
              <div class="items-start">  
                <h2 class="font-medium text-xl md:text-lg mt-10 mb-10">
                    Fill out the form below to connect and click on submit to apply for the job
                </h2>
              </div>
              <form id="jobApplicationForm" class="space-y-6">
                <!-- Row 1: First Name and Email ID -->
                <div class="flex flex-col md:flex-row gap-4">
                    <!-- Full Name --> 
                    <div class="w-full md:w-1/2 z-10">
                        <label for="fullName" class="block text-sm font-medium text-gray-700">Full name <span class="text-red-500">*</span></label>
                        <input type="text" id="fullName" name="fullName" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-coralblue focus:border-coralblue  sm:text-sm" placeholder="Enter your full name" required oninput="validateAlphabetic(this, 'fullName-error')" onkeypress="return blockNumbers(event)">
                        <span id="fullName-error" class="text-red-500 text-sm"></span>
                    </div>
                    <!-- Email ID -->
                    <div class="w-full md:w-1/2">
                        <label for="email" class="block text-sm font-medium text-gray-700">Email ID <span class="text-red-500">*</span></label>
                        <input type="email" id="email" name="email" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Enter your email ID" required oninput="validateEmail(this, 'email-error')" >
                        <span id="email-error" class="text-red-500 text-sm"></span>
                    </div>
                </div>
                <!-- Row 2: Phone Number and Applying For -->
                <div class="flex flex-col md:flex-row gap-4">
                    <!-- Phone Number -->
                    <div class="w-full md:w-1/2 z-10">
                        <label for="phone" class="block text-sm font-medium text-gray-700">Phone number <span class="text-red-500">*</span></label>
                        <div class="flex mt-1">
                          <select id="country-code" name="country-code" class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm">
                            <option value="+91"><span class="flag-icon flag-icon-in"></span> +91</option>
                            <option value="+1"><span class="flag-icon flag-icon-us"></span> +1</option>
                            <option value="+44"><span class="flag-icon flag-icon-gb"></span> +44</option>
                            <option value="+61"><span class="flag-icon flag-icon-au"></span> +61</option>
                            <option value="+81"><span class="flag-icon flag-icon-jp"></span> +81</option>
                          </select>                        
                            <input type="text" id="phone" name="phone" class="flex-1 block w-full min-w-0 px-3 py-2 border border-gray-300 rounded-r-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Enter your phone number" required oninput="validatePhone(this, 'phone-error')">
                        </div>
                        <span id="phone-error" class="text-red-500 text-sm"></span>
                    </div>           
                    <!-- Applying For -->
                    <div class="w-full md:w-1/2">
                        <label for="applyingFor" class="block text-sm font-medium text-gray-700">Applying for <span class="text-red-500">*</span></label>
                        <select id="applyingFor" name="applyingFor" class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
                            <option value="">Select a role</option>
                            <option value="oic-lead-developer">OIC Lead Developer</option>
                            <option value="data-rchitect">Data Architect</option>
                            <option value="technical-business-analyst">Technical Business Analyst â€“ DATA</option>                           
                        </select>
                        <span id="applyingFor-error" class="text-red-500 text-sm"></span>
                    </div>
                </div>           
                <!-- Upload Your Documents Field -->
              <div class="w-full md:w-1/2 z-10">
                <label for="document" class="block text-sm font-medium text-black">Upload your documents *</label>
                <input type="file" id="document" name="document" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" accept=".pdf,.doc,.docx" required>
                <p class="mt-2 text-sm text-gray-500">File size not more than 3mb.</p>
                <p class="mt-2 text-sm text-gray-500">File formats supported: PDF, DOC, DOCX</p>               
              </div>
              <!-- Message Field -->
              <div class="w-full md:w-1/2 z-10">
                <label for="message" class="block text-sm font-medium text-black">Message</label>
                <textarea id="message" name="message" rows="2" class="mt-1 block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"></textarea>
              </div>
              <div class="text-left">
              <button
                type="submit"
                class="py-3 px-10 border rounded-3xl bg-coralblue text-primaryblack font-bold text-xs items-center border-primaryblack"
              >
            SUBMIT
          </button>
           </div>  
            </form>            
          </div>

       <script>
          
              function blockNumbers(event) {
                const keyCode = event.keyCode ? event.keyCode : event.which;
                if (keyCode >= 48 && keyCode <= 57) {
                  event.preventDefault();
                  return false;
                }
                return true;
              }

              function validateAlphabetic(input, errorId) {
                const value = input.value;
                if (!/^[a-zA-Z]*$/.test(value)) {
                  document.getElementById(errorId).textContent = 'Only alphabetic characters are allowed.';
                } else {
                  document.getElementById(errorId).textContent = '';
                }
              }

              function validateAlphanumeric(input, errorId) {
                const value = input.value;
                if (!/^[a-zA-Z0-9\s]*$/.test(value)) {
                  document.getElementById(errorId).textContent = 'Only alphanumeric characters are allowed.';
                } else {
                  document.getElementById(errorId).textContent = '';
                }
              }

            function validateAlphabetic(input, errorId) {
                const value = input.value;
                if (!/^[a-zA-Z\s]*$/.test(value)) {
                    document.getElementById(errorId).textContent = 'Only alphabetic characters are allowed.';
                } else {
                    document.getElementById(errorId).textContent = '';
                }
            }
            function validateEmail(input, errorId) {
                const value = input.value;
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(value)) {
                    document.getElementById(errorId).textContent = 'Please enter a valid email address.';
                } else {
                    document.getElementById(errorId).textContent = '';
                }
            }    
            function validatePhone(input, errorId) {
                const value = input.value;
                if (!/^\d{10}$/.test(value.replace(/\s+/g, ''))) {
                    document.getElementById(errorId).textContent = 'Please enter a valid 10-digit phone number.';
                } else {
                    document.getElementById(errorId).textContent = '';
                }
            }    
            function validateAlphanumeric(input, errorId) {
                const value = input.value;
                if (!/^[a-zA-Z0-9\s]*$/.test(value)) {
                    document.getElementById(errorId).textContent = 'Only alphanumeric characters are allowed.';
                } else {
                    document.getElementById(errorId).textContent = '';
                }
            }
    
            document.getElementById('jobApplicationForm').addEventListener('submit', function (event) {
                event.preventDefault();
                // Further submission code goes here...
            });

  //           document
  // .getElementById("contact-form")
  // .addEventListener("submit", async function (event) {
  //   event.preventDefault();

  //   let isValid = true;
  //   const formElements = event.target.elements;
  //   const validationErrors = {};

  //   // Validate required fields
  //   for (const element of formElements) {
  //     if (
  //       element.type !== "submit" &&
  //       element.hasAttribute("required") &&
  //       !element.value
  //     ) {
  //       isValid = false;
  //       validationErrors[element.name] = "This field is required";
  //     }
  //   }

    
  //   document
  //     .querySelectorAll(".text-errorred")
  //     .forEach((errorElement) => (errorElement.textContent = ""));
  //   if (!isValid) {
  //     for (const [fieldName, errorMessage] of Object.entries(
  //       validationErrors
  //     )) {
  //       document.getElementById(`${fieldName}-error`).textContent =
  //         errorMessage;
  //     }
  //     return;
  //   }

  //   // Extract names from "full-name" field
  //   const formData = new FormData();
  //   formData.append("firstname", formElements["full-name"].value.split(" ")[0] || "");
  //   formData.append("lastname", formElements["full-name"].value.split(" ")[1] || "");
  //   formData.append("email", formElements["email-id"].value);
  //   formData.append("phone", formElements["phone-number"].value);
  //   formData.append("message", formElements["message"].value);

  //   // Handle file upload
  //   const fileInput = formElements["upload-documents"];
  //   if (fileInput.files.length > 0) {
  //     formData.append("document", fileInput.files[0]);
  //   }

  //   try {
  //     const response = await fetch(
  //       "https://api.hsforms.com/submissions/v3/integration/submit/45046299/c298adb4-a32e-4b49-abf8-49340bc33550",
  //       {
  //         method: "POST",
  //         headers: {
  //           "Content-Type": "application/json",
  //         },
  //         body: JSON.stringify(formData),
  //       }
  //     );

  //     if (!response.ok) {
  //       throw new Error("Network response was not ok");
  //     }

  //     alert("We received your valuable message!");
  //     event.target.reset();
  //   } catch (error) {
  //     alert("There was a problem submitting the form: " + error.message);
  //   }
  // });
      document.addEventListener('DOMContentLoaded', () => {
          // Retrieve the job title from localStorage
          const jobTitle = localStorage.getItem('jobTitle');

          // Set the default value in the "Applying For" field
          if (jobTitle) {
            const applyingForField = document.querySelector('#applyingFor');
            applyingForField.value = jobTitle.toLowerCase().replace(' ', '-');
          }

          // Clear localStorage upon form submission
          const form = document.getElementById('jobApplicationForm');
          form.addEventListener('submit', (event) => {
            event.preventDefault(); // Prevent form from actually submitting for testing

            // Clear localStorage
            localStorage.removeItem('jobTitle');

            // You can redirect to a success page or process the form
            window.location.href = 'thankyou.html'; // Example redirection after submission
          });
        });
        </script>
      </div> 
      </div>
      {{ standard_footer_includes }} {% block footer %} {% global_partial
      path="./partials/footer.html" %} {% endblock footer %}
    </div>
  <div class="absolute top-[450px] right-0">
    {% block Backgroundcolor %} {% global_partial
    path="./Components/backroundcolor.html " %} {% endblock Backgroundcolor %}
  </div>
</body>
</html>
